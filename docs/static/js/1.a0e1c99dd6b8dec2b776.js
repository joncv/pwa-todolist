webpackJsonp([1],{447:function(t,e,n){function s(t){n(467)}var a=n(36)(n(454),n(475),s,"data-v-2b8c5ba9",null);t.exports=a.exports},450:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o});var s=function(t){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(t)},a=function(t){return t.replace(/\s/g,"")},o=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}},454:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(457),a=n.n(s),o=n(173),r=n.n(o),i=n(57),l=n.n(i),c=n(58),u=n(450),d=n(124);e.default={name:"login",data:function(){return{email:"",password:"",eye:!1}},methods:l()({},n.i(c.b)("appShell/appHeader",["setAppHeader"]),n.i(c.b)("appShell/appBottomNavigator",["hideBottomNav"]),n.i(c.b)("appShell/appSnackbar",["showSnackbar"]),n.i(c.b)("user",["setUserInfo"]),{checkPassword:function(){return this.password=n.i(u.b)(this.password),this.password?this.password.length>=6||"6-25位密码，不能用空格":""},checkEmail:function(){return this.email=n.i(u.b)(this.email),this.email?!!n.i(u.c)(this.email)||"请输入正确的邮箱格式":""},login:function(){var t=this;if(console.log("try login"),!0!==this.checkEmail()||!0!==this.checkPassword())return console.log(this.email),console.log(this.password),console.log("email or password check failed"),"";n.i(d.e)({email:this.email,password:this.password}).then(function(e){if(navigator.credentials){var n=new PasswordCredential({id:t.email,password:t.password});return navigator.credentials.store(n).then(function(){return console.log("navigator store success"),r.a.resolve(e)})}return r.a.resolve(e)},function(e){return t.showSnackbar({type:"error",msg:n.i(d.c)(e.code)}),r.a.reject(e)}).then(function(e){console.log("user login passed, going to todo page"),console.log(e),t.setUserInfo(e),t.$router.push({name:"list"})})}}),created:function(){this.setAppHeader({title:"Todo List",show:!0,showMenu:!1,showBack:!1,showLogo:!1,actions:[]}),this.hideBottomNav()},mounted:function(){var t=this;navigator.credentials&&navigator.credentials.get({password:!0}).then(function(e){console.log("navigator get credential success"),console.log(e),alert("navigator get credential success"),alert(a()(e.id+":"+e.password)),e&&(t.email=e.id,t.password=e.password,t.login())},function(e){console.log("navigator get credential failed"),console.log(e),alert("navigator get credential failed"),alert(e),t.email="",t.password=""})}}},457:function(t,e,n){t.exports={default:n(458),__esModule:!0}},458:function(t,e,n){var s=n(26),a=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},461:function(t,e,n){e=t.exports=n(443)(!0),e.push([t.i,".container[data-v-2b8c5ba9]{width:100%;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.container img[data-v-2b8c5ba9]{width:100%;height:100%}","",{version:3,sources:["E:/PWA/pwa-todolist/src/pages/Login.vue"],names:[],mappings:"AACA,4BACI,WAAY,AACZ,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,uCAAyC,AACjC,8BAAiC,CAC5C,AACD,gCACI,WAAY,AACZ,WAAa,CAChB",file:"Login.vue",sourcesContent:["\n.container[data-v-2b8c5ba9] {\r\n    width: 100%;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    -webkit-transform: translate(-50%, -50%);\r\n            transform: translate(-50%, -50%);\n}\n.container img[data-v-2b8c5ba9] {\r\n    width: 100%;\r\n    height: 100%;\n}\r\n\r\n"],sourceRoot:""}])},467:function(t,e,n){var s=n(461);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);n(444)("28afa671",s,!0)},471:function(t,e,n){t.exports=n.p+"static/img/todolist1.8f1f31a.png"},475:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-container",[s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs8:"",lg3:"","mb-4":""}},[s("img",{attrs:{src:n(471),alt:"logo"}})])],1),t._v(" "),s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs8:"",lg4:""}},[s("v-text-field",{attrs:{"prepend-icon":"email",name:"email",label:"邮箱",id:"email",required:"",rules:[t.checkEmail]},model:{value:t.email,callback:function(e){t.email="string"==typeof e?e.trim():e},expression:"email"}})],1)],1),t._v(" "),s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs8:"",lg4:""}},[s("v-text-field",{attrs:{"prepend-icon":"lock",type:t.eye?"text":"password",name:"input-1",label:"密码",id:"password",required:"",counter:"","append-icon":t.eye?"visibility":"visibility_off","append-icon-cb":function(){t.eye=!t.eye},rules:[t.checkPassword]},model:{value:t.password,callback:function(e){t.password="string"==typeof e?e.trim():e},expression:"password"}})],1)],1),t._v(" "),s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs6:"",lg3:""}},[s("v-btn",{attrs:{primary:"",light:"",block:""},nativeOn:{click:function(e){t.login(e)}}},[t._v("登录")])],1)],1),t._v(" "),s("v-layout",[s("v-flex",{attrs:{xs8:"","offset-xs2":""}},[s("p",[t._v("\n                    还没有账号？注册一个吧~\n                    "),s("v-btn",{attrs:{error:"",flat:"",small:"",to:{name:"register"},router:""}},[t._v("立即注册")])],1)])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.a0e1c99dd6b8dec2b776.js.map